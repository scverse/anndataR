% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Seurat.R
\name{as_Seurat}
\alias{as_Seurat}
\title{Convert an AnnData object to a Seurat object}
\usage{
as_Seurat(
  adata,
  assay_name = "RNA",
  layers_mapping = NULL,
  object_metadata_mapping = NULL,
  assay_metadata_mapping = NULL,
  reduction_mapping = NULL,
  graph_mapping = NULL,
  misc_mapping = NULL
)
}
\arguments{
\item{adata}{An AnnData object to be converted}

\item{assay_name}{Name of the assay to be created (default: "RNA").}

\item{layers_mapping}{A named vector to map AnnData layers to Seurat layers.
See section "Layer mapping" for more details.}

\item{object_metadata_mapping}{A named vector mapping observation-level
metadata to object-level metadata in the Seurat object. See section
"Metadata mapping" for more details.}

\item{assay_metadata_mapping}{A named vector mapping variable-level metadata
to assay-level metadata in the Seurat object. See section
"Metadata mapping" for more details.}

\item{reduction_mapping}{A named vector or list to map AnnData reductions to
Seurat reductions. The named vector format is simpler to use for common
cases. The list format allows more advanced mapping with explicit keys. See
section "Reduction mapping" for more details.}

\item{graph_mapping}{A named vector mapping graph names to the names of the
graphs in the AnnData object. See section "Graph mapping" for more details.}

\item{misc_mapping}{A named vector mapping miscellaneous data to the names of
the data in the Seurat object. See section "Miscellaneous mapping" for more
details.}
}
\value{
A Seurat object
}
\description{
\code{as_Seurat()} converts an AnnData object to a Seurat object. Only one assay can be converted at a time.
Arguments are used to configure the conversion. If \code{NULL}, the functions \verb{as_Seurat_guess_*} will be used to guess
the mapping.
}
\section{Layer mapping}{


A named vector to map AnnData layers to Seurat layers. Each name corresponds
to the layer name in the Seurat object, and each value corresponds to the
layer name in the AnnData object. A value of \code{NA} corresponds to the
AnnData \code{X} slot.

Example: \code{layers_mapping = c(counts = "counts", data = NA, foo = "bar")}

If \code{NULL}, the internal function \code{.as_Seurat_guess_layers} will be used to
guess the layer mapping as follows:
\itemize{
\item All AnnData layers are copied to Seurat layers by name
\item If there is layer named "counts", \code{adata$X} is stored a "data" otherwise
it is stored as "counts"
}
}

\section{Metadata mapping}{


A named vector to map observation-level and feature-level metadata to
object-level and assay-level metadata in the Seurat object.

Each value in the \code{object_metadata_mapping} named vector corresponds to the
names of the \code{obs} slot in the AnnData object, and each of the names
correspond to the names of the metadata in the resulting Seurat object.

Example: \code{object_metadata_mapping = c(cellType = "cell_type")}.

Each value in the \code{assay_metadata_mapping} named vector corresponds to the
names of the \code{var} slot in the AnnData object, and the names correspond to
the names of the metadata in the specified assay of the resulting Seurat
object.

Example: \code{assay_metadata_mapping = c(geneInfo = "gene_info")}.

By default, all metadata in the \code{obs} and \code{var} slots will be copied to the
Seurat object.
}

\section{Reduction mapping}{


A named vector or list to map AnnData \verb{$obsm} and \verb{$varm} to Seurat
reductions.

When using a named vector, each name corresponds to the reduction name in the
Seurat object, and each value corresponds to the key in AnnData's \verb{$obsm}
slot. This is a simpler format for common use cases.

Example: \code{reduction_mapping = c(pca = "X_pca", umap = "X_umap")}

For more advanced mapping with explicit keys and varm entries, use the list
format. Each item in the list must be a named vector with keys \code{'key'},
\code{'obsm'}, and can contain the key \code{'varm'}.

Example: \code{reduction_mapping = list(pca = c(key = "PC_", obsm = "X_pca", varm = "PCs"))}.

If \code{'varm'} is provided, the matching matrix is given to the \code{loadings}
argument of \code{\link[SeuratObject:CreateDimReducObject]{SeuratObject::CreateDimReducObject()}}.

If \code{NULL}, the internal function \code{.as_Seurat_guess_reductions} will be used
to guess the reduction mapping as follows:
\itemize{
\item All \verb{$obsm} items that can be coerced to a numeric matrix are copied by name
\item If there is an \verb{$obsm} item named "PCA" and a \verb{$varm} item named "PCs" then
\code{'varm'} will be set to "PCs"
}

All keys are processed by \code{\link[SeuratObject:Key]{SeuratObject::Key()}} to match requirements
}

\section{Graph mapping}{


A named vector mapping graph names to the names of the graphs in the AnnData
object. Each name corresponds to the graph name in the resulting Seurat
object, and each value corresponds to the name of the graph in the AnnData
object.

Example: \code{graph_mapping = c(nn = "connectivities")}.

If \code{NULL}, the internal function \code{.as_Seurat_guess_graphs} will be used to
guess the graph mapping as follows:
\itemize{
\item All \verb{$obsp} items are copied by name
}
}

\section{Miscellaneous mapping}{


A named vector mapping miscellaneous data to the names of the data in the
AnnData object. Each name corresponds to the name in the resulting Seurat
object, and each value corresponds to the name of the data in the AnnData
object's \code{uns} slot.

Example: \code{misc_mapping = c(parameters = "params", cell_types = "annotations")}

If \code{NULL}, the internal function \code{.as_Seurat_guess_misc} will be used to
guess the miscellaneous mapping as follows:
\itemize{
\item If \verb{$uns} is defined, all values in \verb{$uns} are copied to the Seurat misc
}
}

\section{Mapping details}{


If an unnamed vector is provided to a mapping argument the values will be
used as names
}

\examples{
ad <- AnnData(
  X = matrix(1:5, 3L, 5L),
  obs = data.frame(row.names = LETTERS[1:3], cell = 1:3),
  var = data.frame(row.names = letters[1:5], gene = 1:5)
)
as_Seurat(ad)
}
