% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/to_Seurat.R
\name{to_Seurat}
\alias{to_Seurat}
\title{Convert a Seurat object to an AnnData object}
\usage{
to_Seurat(
  adata,
  assay_name = "RNA",
  layers_mapping = NULL,
  object_metadata_mapping = NULL,
  assay_metadata_mapping = NULL,
  reduction_mapping = NULL,
  graph_mapping = NULL,
  misc_mapping = NULL
)
}
\arguments{
\item{adata}{An AnnData object to be converted}

\item{assay_name}{Name of the assay to be created (default: "RNA").}

\item{layers_mapping}{A named list to map AnnData layers to Seurat layers. See section "Layer mapping" for more
details.}

\item{object_metadata_mapping}{A named list to map observation-level metadata to object-level metadata in the Seurat
object. See section "Metadata mapping" for more details.}

\item{assay_metadata_mapping}{A named list to map variable-level metadata to assay-level metadata in the Seurat
object.
See section "Metadata mapping" for more details.}

\item{reduction_mapping}{A named list to map AnnData reductions to Seurat reductions. Each item in the list must be a
named list with keys 'key', 'obsm', and 'varm'. See section "Reduction mapping" for more details.}

\item{graph_mapping}{A named list to map AnnData graphs to Seurat graphs. Each item in the list must be a character
vector of length 1. See section "Graph mapping" for more details.}

\item{misc_mapping}{A named list to map miscellaneous data to the names of the data in the Seurat object. See section
"Miscellaneous mapping" for more details.}
}
\value{
A Seurat object
}
\description{
\code{to_Seurat()} converts an AnnData object to a Seurat object. Only one assay can be converted at a time.
Arguments are used to configure the conversion. If \code{NULL}, the functions \verb{to_Seurat_guess_*} will be used to guess
the mapping.
}
\section{Layer mapping}{


A named list to map AnnData layers to Seurat layers. Each item in the list must be a character vector of length 1,
where the values correspond to the names of the layers in the AnnData object, and the names correspond
to the names of the layers in the resulting Seurat object. A value of \code{NULL} corresponds to the AnnData \code{X} slot.

Example: \code{layers_mapping = list(counts = "counts", data = NULL, foo = "bar")}.

If \code{NULL}, the internal function \code{.to_Seurat_guess_layers} will be used to guess the layer mapping as follows:
\itemize{
\item All AnnData layers are copied to Seurat layers by name.
}
}

\section{Metadata mapping}{


A named list or vector to map observation-level and feature-level metadata to object-level and assay-level metadata
in the Seurat object.

Each value in the \code{object_metadata_mapping} list or vector corresponds to the names of the \code{obs} slot in the AnnData
object, and each of the names correspond to the names of the metadata in the resulting Seurat object.

Example: \code{object_metadata_mapping = c(cellType = "cell_type")}.

Each value in the \code{assay_metadata_mapping} list or vector corresponds to the names of the \code{var} slot in the AnnData
object, and the names correspond to the names of the metadata in the resulting Seurat object.

Example: \code{assay_metadata_mapping = list(geneInfo = "gene_info")}.

By default, all metadata in the \code{obs} and \code{var} slots will be copied to the Seurat object.
}

\section{Reduction mapping}{


A named list to map AnnData \verb{$obsm} and \verb{$varm} to Seurat reductions. Each item in the list must be a named list
with keys \code{'key'}, \code{'obsm'}, and can contain the key \code{'varm'}.
Example: \code{reduction_mapping = list(pca = list(key = "PC_", obsm = "X_pca", varm = "PCs"))}.

If \code{NULL}, the internal function \code{.to_Seurat_guess_reductions} will be used to guess the reduction mapping as
follows:
\itemize{
\item All \verb{$obsm} items starting with \code{X_} are copied by name.
}
}

\section{Graph mapping}{


A named list mapping graph names to the names of the graphs in the AnnData object. Each item in the list must be a
character vector of length 1. The values correspond to the names of the graphs in the resulting Seurat object, while
the names correspond to the names of the graphs in the AnnData object.

Example: \code{graph_mapping = list(nn = "connectivities")}.

If \code{NULL}, the internal function \code{.to_Seurat_guess_graphs} will be used to guess the graph mapping as follows:
\itemize{
\item An obsp named \code{connectivities} will be mapped to \code{nn}.
\item Other graphs starting with \code{connectivities_} are stripped of the prefix and copied by name.
}
}

\section{Miscellaneous mapping}{


A named list mapping miscellaneous data to the names of the data in the AnnData object. Each item in the list must be
a vector with one or two elements. The first element must be one of: 'X', 'layers', 'obs', 'obsm', 'obsp', 'var',
'varm', 'varp', 'uns'. The second element is the name of the data in the corresponding slot. If the second element is
not present, the whole slot as specified by the first element will be used.

Example: \code{misc_mapping = list(uns = "uns", varp_neighbors = c("varp", "neighbors"))}.

If \code{NULL}, the internal function \code{.to_Seurat_guess_misc} will be used to guess the miscellaneous mapping as follows:
\itemize{
\item If \verb{$uns} is defined, all values in \verb{$uns} are copied to the Seurat misc.
}
}

\examples{
ad <- AnnData(
  X = matrix(1:5, 3L, 5L),
  obs = data.frame(row.names = LETTERS[1:3], cell = 1:3),
  var = data.frame(row.names = letters[1:5], gene = 1:5)
)
to_Seurat(ad)
}
